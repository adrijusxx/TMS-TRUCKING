@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light theme - improved contrast */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    /* Improved muted-foreground for better visibility */
    --muted-foreground: 215.4 16.3% 40%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    /* Improved border contrast */
    --border: 214.3 31.8% 85%;
    --input: 214.3 31.8% 85%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;

    /* ===== DESIGN SYSTEM TOKENS ===== */

    /* Status - Success (Green) */
    --status-success: 142 76% 36%;
    --status-success-foreground: 0 0% 100%;
    --status-success-muted: 142 76% 94%;

    /* Status - Warning (Amber) */
    --status-warning: 38 92% 50%;
    --status-warning-foreground: 0 0% 0%;
    --status-warning-muted: 38 92% 94%;

    /* Status - Error (Red) */
    --status-error: 0 84% 60%;
    --status-error-foreground: 0 0% 100%;
    --status-error-muted: 0 84% 94%;

    /* Status - Info (Blue) */
    --status-info: 217 91% 60%;
    --status-info-foreground: 0 0% 100%;
    --status-info-muted: 217 91% 94%;

    /* Status - Neutral (Gray) */
    --status-neutral: 220 9% 46%;
    --status-neutral-foreground: 0 0% 100%;
    --status-neutral-muted: 220 9% 94%;

    /* Spacing Scale (4px base) */
    --space-0: 0px;
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 24px;
    --space-6: 32px;
    --space-8: 48px;

    /* Typography Scale */
    --text-display: 1.5rem;
    /* 24px */
    --text-heading: 1rem;
    /* 16px */
    --text-subheading: 0.875rem;
    /* 14px */
    --text-body: 0.8125rem;
    /* 13px */
    --text-data: 0.75rem;
    /* 12px */
    --text-caption: 0.6875rem;
    /* 11px */
    --text-micro: 0.625rem;
    /* 10px */
  }

  .dark {
    /* Main background - dark blue-gray */
    --background: 222 47% 11%;
    --foreground: 213 31% 91%;
    /* Cards and popovers - slightly darker than background */
    --card: 222 47% 11%;
    --card-foreground: 213 31% 91%;
    --popover: 222 47% 11%;
    --popover-foreground: 213 31% 91%;
    /* Primary - lighter blue-gray for interactive elements */
    --primary: 213 31% 91%;
    --primary-foreground: 222 47% 11%;
    /* Secondary - darker gray for sidebar/secondary areas */
    --secondary: 222 42% 9%;
    --secondary-foreground: 213 31% 91%;
    /* Muted - for borders and subtle backgrounds */
    --muted: 217 33% 17%;
    /* Improved muted-foreground for better readability */
    --muted-foreground: 215 20% 72%;
    /* Accent - for hover states */
    --accent: 217 33% 17%;
    --accent-foreground: 213 31% 91%;
    /* Destructive */
    --destructive: 0 63% 31%;
    --destructive-foreground: 213 31% 91%;
    /* Borders - darker gray with better visibility */
    --border: 217 33% 20%;
    --input: 217 33% 20%;
    --ring: 217 33% 20%;

    /* Status - Success (Green - lighter for dark bg) */
    --status-success: 142 71% 45%;
    --status-success-foreground: 0 0% 100%;
    --status-success-muted: 142 40% 20%;

    /* Status - Warning (Amber - brighter for dark bg) */
    --status-warning: 38 92% 55%;
    --status-warning-foreground: 0 0% 0%;
    --status-warning-muted: 38 50% 20%;

    /* Status - Error (Red - brighter for dark bg) */
    --status-error: 0 72% 55%;
    --status-error-foreground: 0 0% 100%;
    --status-error-muted: 0 50% 20%;

    /* Status - Info (Blue - brighter for dark bg) */
    --status-info: 217 91% 65%;
    --status-info-foreground: 0 0% 100%;
    --status-info-muted: 217 50% 20%;

    /* Status - Neutral (Gray - lighter for dark bg) */
    --status-neutral: 220 9% 60%;
    --status-neutral-foreground: 0 0% 0%;
    --status-neutral-muted: 220 9% 20%;
  }

  .amber {
    /* Amber theme - dark warm background with orange accents */
    /* Main background - very dark warm black */
    --background: 20 15% 8%;
    --foreground: 40 30% 92%;
    /* Cards and popovers */
    --card: 20 15% 8%;
    --card-foreground: 40 30% 92%;
    --popover: 20 15% 10%;
    --popover-foreground: 40 30% 92%;
    /* Primary - vibrant orange */
    --primary: 25 95% 55%;
    --primary-foreground: 20 15% 8%;
    /* Secondary - darker warm gray */
    --secondary: 20 20% 12%;
    --secondary-foreground: 40 30% 92%;
    /* Muted - medium warm gray */
    --muted: 20 15% 25%;
    --muted-foreground: 40 20% 70%;
    /* Accent - for hover states */
    --accent: 25 85% 45%;
    --accent-foreground: 40 30% 92%;
    /* Destructive - red that works on dark */
    --destructive: 0 70% 50%;
    --destructive-foreground: 40 30% 92%;
    /* Borders - subtle warm border */
    --border: 20 15% 20%;
    --input: 20 15% 20%;
    --ring: 25 95% 55%;

    /* Status - Success (Warm green for amber theme) */
    --status-success: 150 65% 42%;
    --status-success-foreground: 0 0% 100%;
    --status-success-muted: 150 40% 18%;

    /* Status - Warning (Matches amber primary) */
    --status-warning: 30 90% 55%;
    --status-warning-foreground: 0 0% 0%;
    --status-warning-muted: 30 50% 18%;

    /* Status - Error (Warm red) */
    --status-error: 5 70% 55%;
    --status-error-foreground: 0 0% 100%;
    --status-error-muted: 5 50% 18%;

    /* Status - Info (Warm blue) */
    --status-info: 200 70% 55%;
    --status-info-foreground: 0 0% 100%;
    --status-info-muted: 200 40% 18%;

    /* Status - Neutral (Warm gray) */
    --status-neutral: 30 10% 55%;
    --status-neutral-foreground: 0 0% 0%;
    --status-neutral-muted: 30 10% 18%;
  }
}

@layer base {
  :root {
    --base-font-size: 1rem;
  }

  * {
    @apply border-border;
  }

  html {
    font-size: var(--base-font-size);
  }

  body {
    @apply bg-background text-foreground;
  }

  /* Compact mode styles */
  .compact-mode {
    --spacing-unit: 0.5rem;
  }

  .compact-mode .space-y-6>*+* {
    margin-top: calc(var(--spacing-unit) * 3);
  }

  .compact-mode .p-4 {
    padding: calc(var(--spacing-unit) * 2);
  }

  .compact-mode .gap-4 {
    gap: calc(var(--spacing-unit) * 2);
  }

  /* Reduce motion */
  .reduce-motion *,
  .reduce-motion *::before,
  .reduce-motion *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Font size classes - applied to html element for global scaling */
/* Placed outside @layer to avoid Tailwind processing conflicts */
html.font-small {
  --base-font-size: 0.875rem;
  font-size: 0.875rem;
}

html.font-medium {
  --base-font-size: 1rem;
  font-size: 1rem;
}

html.font-large {
  --base-font-size: 1.125rem;
  font-size: 1.125rem;
}